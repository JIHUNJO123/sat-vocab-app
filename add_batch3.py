import json
import urllib.request
import urllib.parse
import concurrent.futures

API_KEY = "AIzaSyCWW8OXnc7QwIUTs_W0FCEVrZEm3qliDzk"

# More SAT words batch 3
NEW_WORDS = """ebullient eccentric ecclesiastic eclectic eclipse economical ecstasy eddy edible edifice edify eerie efface effectual effeminate effervescent efficacious effigy efflorescence effluvia effrontery effulgent effusion egalitarian egocentric egoist egregious egress ejaculate elaborate elan elasticity elated elegy element elicit elision elite elixir ellipsis elliptical elocution elongate eloquent elucidate elusive emaciated emanate emancipate embargo embark embellish embezzle embitter emblazon embody embolden emboss embrace embroider embroil embryonic emend emeritus emetic emigrate eminence emissary emit emollient emolument empathy empirical emulate enamored encamp enchant encircle enclave encomium encompass encroachment encumber encyclopedic endearment endemic endorse enduring energize enervate enfranchise engage engaging engender engross enhance enigma enigmatic enjoin enmesh ennui enormity enormous enrapture ensconce ensemble ensue entail enterprise enthrall entice entity entomology entrance entreat entreaty entrepreneur enumerate enunciate environs envoy ephemeral epic epicure epidemic epigram epilogue episodic epistemology epitaph epithet epitome epoch equable equanimity equestrian equilibrium equine equinox equipoise equitable equity equivalent equivocal equivocate eradicate erode erosion erotic errant erratic erroneous ersatz erstwhile erudite escalate escapade esophagus esoteric espionage espouse esprit essay essence estimable estranged ethereal ethics ethnic ethos etiology etymology eugenics eulogize eulogy euphemism euphonious euphoria euthanasia evanescent evangelical evangelist evasion evasive eventual evict evince evocative evoke evolve exacerbate exacting exalt exasperate excavate excerpt exchequer excise exclaim exclamation exclude excommunicate excoriate excruciating exculpate excursion execrable execute executive exemplary exemplify exempt exertion exhalation exhaustive exhilarating exhort exhume exigency exiguous exile existential exonerate exorbitant exorcise exotic expand expansive expatiate expatriate expedient expedite expeditious expend expertise expiate expletive explicate explicit exploit exponential exponent export exposition expostulate expound expressly expropriate expulsion expunge expurgate extant extemporaneous extend extenuate extinct extirpate extol extort extract extradite extraneous extrapolate extremist extricate extrinsic extrude exuberant exude exult eyrie fabricate facade facet facetious facile facilitate faction factious factitious factotum faculty faddish fait accompli fallacious fallible fallow falter fanatic fancier fanciful fang fanaticism fantasy farce farcical fascinate fastidious fatal fatalistic father fathom fatuous fauna fawning faze fealty feasible feat febrile feckless fecundity feign feint felicitous feline fell felon felony ferocious ferret fertile fervent fervid fervor fester festive fetid fetter fettle feud feverish fiasco fiat fickle fictitious fidelity fidget fiduciary figurative figurine filament filch filial filibuster filigree fillip filter filth finale finesse finicky finite firebrand firmament fiscal fissure fitful flaccid flag flagrant flail flair flamboyant flanking flap flashy flask flaunt flaunting flawless flay fledgling fleece fleet flick flinch flinty flip flippant flirt float flock flog floodgate florid flotsam flourish flout fluctuate fluency fluke flummox flunk flush fluster flux fodder foible foist foliage foment foolhardy fop foppish foray forbear forbearance forbidding ford forebear foreboding forecast foreclose foregoing foreman foremost forensic forerunner foreshadow foresight forestall forfeit forge forgo forlorn formality formative former formidable forsake forswear forte forthcoming forthright fortitude fortuitous fortune foster founder fracas fractious fracture fragile fragment frail franchise frangible frank frantic fraternal fraternize fraudulent fraught fray frazzled freak freebooter frenetic frenzy fresco freshet fret fretful friable friction frigid fringe frivolous frizzle frock frolicsome frond frothy frowzy frugal fruition frustrate fuddle fulcrum fulminate fulsome fumble fumigate function functionary fundamental funereal fungible furlough furtive fury fuse fusillade fusion fussy fusty futile gadfly gaffe gainsay gait galaxy gale gall gallant gallery galley gallivant gallows galore galvanize gambit gambol gamma gamut gape garbled garble garish garland garner garnish garrulous gasconade gash gastric gaucherie gaudy gaunt gawk gawky gazette gear gelid geminate genealogy generality generate generic genial genie genre genteel gentility gentry genuflect genuine genus germane germinal germinate gesticulate gesture ghastly ghostly gibberish gibe giddy gild gilt gimmick ginger gingerly girth gist glacial glamor glamour glare glaring glaze gleam glean glib glimmer glint gloat gloom glossary glossy glower glut glutinous glutton gluttonous gnarly gnarled gnome goad goading gob gobble goblet gory gospel gossamer gouge gourmand gourmet gracious gradation gradient graft grandeur grandiose grandstand grange granite grapple grasp grasping grassroots grate gratify gratis gratitude gratuitous grave gravel gravy graze grazier gregarious gremlin grievance grievous grill grimace grime grin grind gripe grisly grit grizzled groan groom groove grope gross grotesque grotto grouch grove grovel groveling growl grudge grudging gruel grueling gruff grumble guarantee guarantor guardian guerrilla guileless guile guillotine guise gulf gullible gulp gumption gustatory gusto gusty gutter guzzle gyrate habitable habitat habituate hackles hackneyed haggard haggle halcyon hale hallow hallowed hallucination halo hamper hamstring handicap handiwork hangar hanger hangover hanker haphazard hapless harangue harass harbinger harbor hardy hark harmonious harness harp harrowing harrow harry harvest hassle haste hasten hasty hatchet haughty haul haunt haven havoc hazard hazardous haze headlong headstrong hearken hearsay hearth heartless hearty heathen heave hecatomb heckle hectic hector hedonist heed heedless hefty hegemony hegemon heinous hellion helm hemlock hemorrhage herald heresy heretic heritage hermetic hermit hermitage heroic hew hiatus hibernal hibernate hidebound hideous hierarchy hieroglyphics highbrow hilarity hinder hindmost hindrance hindsight hinge hinterland histrionic hitherto hoard hoax hobble hodgepodge hoggish hoist holistic hollow holocaust homage homely homespun homily homogeneous hone honest hoodwink hoodwinks hopeful horde horoscope horrendous horrific hortatory hospice hospitable host hostage hostile hostility hothead hovel hover hub hubris huddle hue hulking hum humane humble humbug humdrum humid humiliate humility humor hunk hurdle hurl hurtle husband husbandry husk hustings hybrid hydrophobia hymn hyperbole hypercritical hypnotic hypochondriac hypocrisy hypocrite hypothermia hypothesis hypothetical hysteria hysterical ichthyic iconoclast idiocy idiom idiosyncrasy idle idolatry idyll idyllic igneous ignite ignoble ignominy ignoramus illicit illimitable illuminate illusion illusive illustrate illustrious imagery imbecile imbibe imbroglio imbue immaculate immanent immaterial immature immeasurable immediate immemorial immense immerse imminent immobile immolate immortal immune immure immutable imp impair impale impart impartial impasse impassioned impassive impeach impeccable impecunious impede impediment impel impending impenetrable impenitent imperative imperceptible imperial imperil imperious impermeable impersonal impersonate impertinent imperturbable impervious impetuous impetus impiety impinge impious implausible implement implicate implicit implore imply impolitic imponderable import importune impose imposing impostor impotent impound impoverish imprecate imprecation imprecise impregnable impregnate impromptu impropriety improvident improvise imprudent impugn impulse impulsive impunity impute inadvertent inalienable inane inanimate incandescent incantation incapacitate incarcerate incarnate incendiary incense incentive inception incessant inchoate incidence incident incidental incinerate incipient incision incisive incite inclement inclination incline inclusive incognito incoherent incombustible incommensurate incompatible incongruous inconsequential inconsistent inconsolable inconstant incontinent incontrovertible incorporate incorrigible incredulous increment incriminate incrustation incubus inculcate incumbent incur incurable incursion indebted indecent indecipherable indefatigable indelible indemnify indemnity indent indenture indescribable indict indifferent indigence indigenous indigent indigestible indignant indignity indirect indiscreet indiscriminate indispensable indisposed indisputable indissoluble indite individual indoctrinate indolence indolent indomitable indubitable induce inducement induct indulge indulgent industrious inebriated ineffable ineffectual ineligible ineluctable inept inequality inequitable ineradicable inert inertia inevitable inexorable inexperience infallible infamous infamy infantile infantry infatuated infect infer inference inferior infernal inferno infest infestation infidel infiltrate infinitesimal infirm infirmity inflame inflammatory inflate inflict influx informal infraction infringement infuriate ingenious ingenue ingenuity ingenuous ingest inglorious ingrained ingratiating ingratiate ingress inherent inhibit inhibition inhumane inhuman inimical inimitable initiate injurious injustice inkling innate innocuous innuendo innumerable inoculate inopportune inordinate inquest inquisition inquisitive inroads insalubrious insatiable inscribe inscrutable insecticide insensate insensitive insidious insignia insinuate insipid insolence insolent insoluble insolvent insomnia inspect inspiration install instill instinct institute institutional instruct instrument insubordinate insufferable insular insulate insuperable insurgent insurmountable insurrection intact intangible integral integrate integrity intellect intelligentsia intelligible intemperance intend intense intensify intent inter intercede intercept interdict interim interject interloper interlude intermediary interminable interment interminable intermittent internecine interpolate interpose interregnum interrogate interrogator interrupt intersperse interstice intervene intimacy intimate intimidate intolerant intonation intoxicate intractable intramural intransigent intrepid intricate intrigue intrinsic introspective introvert intrude intrusive intuition inundate inure invade invalid invalidate invaluable invariable invasion invective inveigh inveigle inventive inverse invert invest investigate inveterate invidious invigorate invincible inviolable invoke involuntary invulnerable iota irascible irate ire iridescent irksome ironic irony irrational irreconcilable irrefutable irrelevant irreparable irrepressible irreproachable irresolute irresponsible irreverence irreverent irrevocable irrigate irritable irritate isinglass isolate isotope issuance isthmus itinerant itinerary jab jabber jaded jagged jangle jape jarring jaundice jaundiced jaunty javelin jeer jejune jeopardize jeopardy jerk jest jetsam jettison jibe jilt jingoist jocose jocular jocund jocularity jolly jolt jostle joust jovial jubilant jubilation judicious juggle jumble junction juncture junket junta jurisdiction jurist justify jut juvenile juxtapose kaleidoscope kazoo keel keen ken kindle kindred kinetic kiosk kismet knack knead knell knick knit knotty kowtow kudos laborious labyrinth lacerate lachrymose lackadaisical lackey lacking lackluster laconic laggard lair lambaste lame lament lampoon lance lancet languid languish languor lanky lapidary larceny larder largess lariat lark lascivious lash lassitude latent lateral latitude laud laudable laudatory lave lavish lax laxity layman leaven lecherous lectern leery legacy legend legerdemain legion legislature legitimate leniency lenient leonine lesion lethal lethargy levee levity levy lexicographer lexicon liability liable liaison libation libel libelous libertarian libertine libidinous libretto licentious lien ligneous limber limelight limitation limitless limp limpid lineage linear linger linguistics liniment lionize liquidate lissome listless literal literati lithe litigant litigate litigation litotes livid loath loathe loathsome lode lofty log logger logistics loiter loll loner longevity loom lope loquacious lordly lore lottery lotus lounge lout loutish low lowly lucid ludicrous lugubrious lull lumber luminary luminous lunacy lunatic lupine lurch lure lurid lurk luscious lush luster lustrous luxuriant lynch lyrical macabre macerate machinations maculate madrigal maelstrom magisterial magnanimity magnanimous magnate magnet magnificence magnify magnitude magniloquent maim mainstay maintain maize makeshift maladroit malady malaise malapropos malcontent malediction malefactor malevolent malfeasance malice malicious malign malignant malingerer malleable malodorous mammal mammoth manacle mandate mandatory mane maneuver mangle mania maniacal manifest manifesto manifold manipulate mannered mannerism mantle manumit manuscript mar marathon maraud margin marginal maritime maroon martial martinet martyr marvel mash masochist massacre mast masterful mastery masticate maternal matriarch matriculate matrix matron maudlin maul mausoleum maverick mawkish maxim maximum mayhem maze meager meander meander meandering mechanic meddle mediate mediocre meditate medium medley meek megalomaniac melancholy melee meliorate mellifluous melody membrane memento memoir memoir menace mend mendacious mendicant menial mentor mercantile mercenary mercurial meretricious merge merit meritocracy meritorious merited merrymaking mesh mesmerize metabolism metamorphosis metaphor metaphysical mete meteor meteoric methodical meticulous metrical metropolis mettle mettlesome miasma microbe microscopic midst mien migrate milieu militant militate militia millennium mimicry minatory mince mincing minion minions ministrations minstrel mint minuscule minute minutia mirage mirth misadventure misanthrope misapply misapprehension misbehavior miscellaneous miscellany mischance mischief misconstrue miscreant misdemeanor miserly misgiving mishap misjudge misleading misnomer misogynist misrepresent missile missive mite mitigate mixture mnemonic moat mock mode modicum modify modish modulate moiety molest mollify molten momentary momentous momentum monarch monastery monastic monetary mongrel moniker monition monkish monochrome monogamy monograph monolithic monopoly monosyllable monotone monotonous monsoon monstrosity montage monument moodiness moor mooring moot moral morale morass moratorium morbid mordant mores moribund morose morsel mortal mortgage mortician mortify mosaic moth motion motif motile motivate motley motto mountebank mouse mousy mouthpiece muddle muffle mulct mull multifarious multiplicity mundane munificent mural murky murmur murrain muse musings muster musty mutable mute mutilate mutineer mutinous mutter mutual muzzle myopic myriad mysterious mystic mystical mystique nadir naive narcissist narrate nascent natal natation natty nausea nauseous nautical nave navigable nebulous necessitate needy nefarious negate negative negligent negligible negotiate nemesis neologism neophyte nepotism nerveless nettle neuralgia neurotic neutral nexus nib nibble nicety niche nick niggardly niggle nightmare nihilism nil nimble nirvana nobility nocturnal node noisome nomad nomenclature nominal nominate nonchalant noncommittal nondescript nonentity nonpareil nonplus nonplussed nonsense norm normalcy nostalgia nostalgic nostrum notation notch notation notion notoriety notorious nourish novel novice noxious nuance nubile nucleate nucleus nudge nugatory nullify numismatist nun nunnery nuptial nurse nurture nutrient nutrition nutritious oaf obdurate obedient obeisance obfuscate obituary objective objurgation oblation obligatory oblique obliterate oblivion oblivious obloquy obnoxious obscene obscure obsequious obsequy observant obsess obsession obsolescent obsolete obstinate obstreperous obstruct obtrude obtrusive obtuse obviate obvious occlude occult occupant occupation occurrence oceanic ocher octave octogenarian ocular odd ode odious odium odorous odyssey offal offend offense offhand officious offshoot ogle ogre olfactory oligarchy omen ominous omit omnipotent omniscient omnivorous onerous onset onslaught onus ooze opacity opalescent opaque opiate opine opinion opportune opportunist oppress opprobrium opt optician optimal optimism opulence opus oracle oration oratorio orator oratory orbicular ordain ordeal ordinance ordnance orient orientation orifice origin ornate ornery ornithologist orthodox orthography oscillate ossify ostensible ostentatious ostracize otiose oust ouster outburst outcast outcry outfit outgrow outgoing outlandish outlast outlaw outlay outlet outline outlook outmoded outnumber outrage outrageous outrank outreach outright outset outshine outskirts outspoken outstanding outwit overawe overbear overcome overdose overestimate overflow overhang overhaul overhear overlook overpower overrate overreach overrule overrun oversee overseer oversight overt overthrow overwhelm overwrought""".split()

def get_def(word):
    try:
        url = f"https://api.dictionaryapi.dev/api/v2/entries/en/{word}"
        req = urllib.request.Request(url, headers={'User-Agent': 'Mozilla/5.0'})
        r = urllib.request.urlopen(req, timeout=5)
        d = json.loads(r.read().decode('utf-8'))
        m = d[0]['meanings'][0]
        df = m['definitions'][0]
        return {'def': df['definition'], 'ex': df.get('example', ''), 'pos': m['partOfSpeech']}
    except:
        return None

def translate(text, lang):
    try:
        url = f"https://translation.googleapis.com/language/translate/v2?key={API_KEY}&q={urllib.parse.quote(text)}&target={lang}"
        r = urllib.request.urlopen(url, timeout=10)
        return json.loads(r.read())['data']['translations'][0]['translatedText']
    except:
        return text

with open('assets/data/words.json', 'r', encoding='utf-8') as f:
    words = json.load(f)
existing = set(w['word'] for w in words)
start_id = len(words) + 1

new_words = [w for w in NEW_WORDS if w not in existing]
print(f"Adding {len(new_words)} new words...")

with concurrent.futures.ThreadPoolExecutor(max_workers=20) as ex:
    defs = list(ex.map(get_def, new_words))

added = 0
for i, (word, d) in enumerate(zip(new_words, defs)):
    if not d: continue
    ko = translate(d['def'], 'ko')
    zh = translate(d['def'], 'zh')
    hi = translate(d['def'], 'hi')
    words.append({
        'id': start_id + added,
        'word': word,
        'level': ['Basic', 'Common', 'Advanced', 'Expert'][added % 4],
        'partOfSpeech': d['pos'],
        'definition': d['def'],
        'example': d['ex'] or f"The {word} was remarkable.",
        'translations': {'ko': {'definition': ko}, 'zh': {'definition': zh}, 'hi': {'definition': hi}}
    })
    added += 1
    if added % 100 == 0:
        print(f"{added} done")
        with open('assets/data/words.json', 'w', encoding='utf-8') as f:
            json.dump(words, f, ensure_ascii=False, indent=2)

with open('assets/data/words.json', 'w', encoding='utf-8') as f:
    json.dump(words, f, ensure_ascii=False, indent=2)
print(f"Done! Total: {len(words)}")
